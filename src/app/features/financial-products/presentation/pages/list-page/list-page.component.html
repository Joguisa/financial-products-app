<div class="container">
    <div class="list-header">
        <bp-search-bar (search)="onSearch($event)"></bp-search-bar>
        <button type="button" class="btn btn-primary" (click)="goToAddProduct()">
            Agregar
        </button>
    </div>

    <div class="list-container">
        @if (loading() === 'loading') {
        <div class="table-scroll-wrapper">
            <bp-skeleton-table [rows]="5" [columns]="6"></bp-skeleton-table>
        </div>
        } @else {
        <div class="table-scroll-wrapper">
            <bp-products-table [products]="products()" (editProduct)="onEditProduct($event)"
                (deleteProduct)="onDeleteProduct($event)"></bp-products-table>
        </div>
        <bp-pagination-control [total]="total()" [filteredCount]="filteredCount()"
            (limitChange)="onLimitChange($event)"></bp-pagination-control>
        }
    </div>
</div>

<bp-modal [isOpen]="showDeleteModal()" [title]="deleteModalTitle" confirmText="Confirmar" cancelText="Cancelar"
    (confirm)="onConfirmDelete()" (cancel)="closeDeleteModal()"></bp-modal>